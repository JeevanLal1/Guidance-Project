<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="profile.css">
</head>
<body>

    <div class="navbar">
       <nav>
	    <a href="home.html">Home</a>
	    <a href="profile.html">Profile</a>
	    <a href="about.html">About us</a>
	    <a href="contact.html">Contact us</a>
	    <div class="animation start-home"></div></nav>
        <div id="Head">Guider .</div>
        <button id="signout" type="button">Sign Out</button>
        </div>
        <div class="container">
          <div class="box">
              <h1>Your Profile Dashboard</h1>
              <form>
                  <div class="form-group">
                      <label for="name">Name:</label>
                      <span class="user-info">Undertaker</span>
                  </div>
                  <div class="form-group">
                      <label for="email">Email:</label>
                      <span class="user-info">undertaker@gmail.com</span>
                  </div>
                  <div class="form-group">
                      <label for="hobbies">Interested Field:</label>
                      <ul class="hobbies">
                          <li>Coding</li>
                          <li>Gaming</li>
                          <li>Editing</li>
                      </ul>
                  </div>
              </form>
          </div>
        </div> 
        
        <script>

            let UserCreds=JSON.parse(sessionStorage.getItem("user-creds"));
            let UserInfo=JSON.parse(sessionStorage.getItem("user-info"));
            let MsgHead=document.getElementById('msg');
            let GreetHead = document.getElementById('greet');
            let SignoutBtn=document.getElementById('signout');
            let Signout = () =>{
                sessionStorage.removeItem("user-creds");
                sessionStorage.removeItem("user-info");
                window.location.href = 'login.html'
            }
            let CheckCred = () =>{
                if(!sessionStorage.getItem("user-creds"))
                    window.location.href='login.html'
                else{
                    console.log(UserInfo);
                    MsgHead.innerText=`user with email "${UserCreds.email}"logged in`;
                    GreetHead.innerText=`welcome ${UserInfo.NAME}!`;
                }}
            window.addEventListener('load',CheckCred);
            SignoutBtn.addEventListener('click',Signout);
        </script>
</body>
</html>
